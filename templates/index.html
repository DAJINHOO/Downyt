<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="Dajinhoo" />
        <title>DOWNYT</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="../static/assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" type="text/css" />
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="../static/css/styles.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Navigation -->
        <nav class="navbar navbar-light bg-light static-top">
            <div class="container">
                <a class="navbar-brand" href="#!">DOWNYT</a>
                <!-- <a class="btn btn-dark" href="#signup">dark</a> -->
            </div>
        </nav>

        <!-- Masthead -->
        <header class="masthead">
            <div class="container position-relative">
                <div class="row justify-content-center">
                    <div class="col-xl-6">
                        <div class="text-center text-white">
                            <h1 class="mb-5">Baixe agora seus vídeos favoritos do YouTube!</h1>

                            <!-- Formulário principal -->
                            <form class="form-subscribe needs-validation" id="contactForm"  method="POST" action="{{ url_for('baixar') }}" novalidate>
                                <div class="row">
                                    <div class="col">
                                        <input 
                                            class="form-control form-control-lg" 
                                            id="youtubeLink" 
                                            name="youtubeLink"
                                            type="url" 
                                            placeholder="Cole o link do YouTube aqui" 
                                            pattern="^(https?:\/\/)?(www\.)?(youtube\.com\/watch\\?v=|youtu\.be\/)[\\w\\-]{11}(&.*)?$" 
                                            required 
                                        />
                                        <div class="invalid-feedback text-white">
                                            Por favor, insira um link válido do YouTube.
                                        </div>
                                    </div>
                                </div>

                                <!-- Caixas de seleção -->
                              <div class="form-check form-check-inline mt-3">
                                    <input class="form-check-input" type="radio" id="videoMp4" name="formato" value="mp4" required>
                                    <label class="form-check-label text-white" for="videoMp4">Vídeo</label>
                                </div>
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="radio" id="audioMp3" name="formato" value="audio" required>
                                    <label class="form-check-label text-white" for="audioMp3">Áudio</label>
                                </div>
                                <div class="invalid-feedback d-block text-white mt-1">
                                    Selecione apenas um formato.
                                </div>

                                <div class="mt-4">
                                    <button class="btn btn-primary btn-lg" id="submitButton" type="submit">
                                        Baixar
                                    </button>
                                </div>
                            </form>

                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Footer -->
        <footer class="footer bg-light">
            <div class="container">
                <div class="row">
                    <div class="col-lg-6 h-100 text-center text-lg-start my-auto">
                        <ul class="list-inline mb-2">
                            <li class="list-inline-item"><a href="#!">About</a></li>
                            <li class="list-inline-item">⋅</li>
                            <li class="list-inline-item"><a href="#!">Contact</a></li>
                            <li class="list-inline-item">⋅</li>
                            <li class="list-inline-item"><a href="#!">Terms of Use</a></li>
                            <li class="list-inline-item">⋅</li>
                            <li class="list-inline-item"><a href="#!">Privacy Policy</a></li>
                        </ul>
                        <p class="text-muted small mb-4 mb-lg-0">&copy; DOWNYT 2025. All Rights Reserved.</p>
                    </div>
                    <div class="col-lg-6 h-100 text-center text-lg-end my-auto">
                        <ul class="list-inline mb-0">
                            <li class="list-inline-item me-4">
                                <a href="#!"><i class="bi-facebook fs-3"></i></a>
                            </li>
                            <li class="list-inline-item me-4">
                                <a href="#!"><i class="bi-twitter fs-3"></i></a>
                            </li>
                            <li class="list-inline-item">
                                <a href="#!"><i class="bi-instagram fs-3"></i></a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Bootstrap core JS -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="../static/js/scripts.js"></script>

        <!-- Validação Bootstrap nativa -->
        <script>
        (() => {
            'use strict'
            const forms = document.querySelectorAll('.needs-validation')

            Array.from(forms).forEach(form => {
                form.addEventListener('submit', event => {
                    if (!form.checkValidity()) {
                        event.preventDefault()
                        event.stopPropagation()
                    }
                    form.classList.add('was-validated')
                }, false)
            })

            // Garante que apenas uma caixa possa ser marcada por vez (MP4/MP3)
            const formatGroups = [
                document.querySelectorAll('.format-option'),
                document.querySelectorAll('.format-option-footer')
            ];

            formatGroups.forEach(group => {
                group.forEach(box => {
                    box.addEventListener('change', () => {
                        if (box.checked) {
                            group.forEach(other => {
                                if (other !== box) other.checked = false;
                            });
                        }
                    });
                });
            });
        })()
        </script>
    </body>
</html>
